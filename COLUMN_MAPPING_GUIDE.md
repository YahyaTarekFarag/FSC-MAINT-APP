# Column Mapping Guide - ุชุนูููุงุช ุชุตุญูุญ ุฃุณูุงุก ุงูุฃุนูุฏุฉ

## ุงููุชุงุฆุฌ ูู Dry-Run

### โ ูุง ูุฌุญ:
- ุฌููุน ุงูุจุฑุงูุฌ ุงููุตูุฉ ุชุนูู ุจุฏูู ุฃุฎุทุงุก
- ุงูุงุชุตุงู ุจSupabase ูุงุฌุญ
- ูุฑุงุกุฉ ูููุงุช Excel ุชุนูู ุจุดูู ุตุญูุญ

### โ๏ธ ุงููุดุงูู ุงูููุชุดูุฉ:
ุฃุณูุงุก ุงูุฃุนูุฏุฉ ูู ูููุงุช Excel ูุฎุชููุฉ ุนู ุงููุชููุน. ูุฌุจ ุชุนุฏูู ูููุงุช ุงูุงุณุชูุฑุงุฏ.

---

## 1. ุงููุงุฑูุงุช (Brands) ๐ฆ

**ุงูููู**: `data/company brands.xlsx`

**ุงููุดููุฉ**: ุงูุจุฑูุงูุฌ ูุจุญุซ ุนู `ุงุณู ุงููุงุฑูุฉ` ููู ุงูููู ูุญุชูู ุนูู `ุงูุจุฑุงูุฏ`

### ุงูุญู:
ุงูุชุญ `scripts/importers/brands.ts` ูุนุฏูู ุงูุณุทุฑ 29:

```typescript
// ูุจู:
const brandName = row['ุงุณู ุงููุงุฑูุฉ'] || row['Brand Name'] || row['ุงููุงุฑูุฉ'] || row['name'];

// ุจุนุฏ:
const brandName = row['ุงูุจุฑุงูุฏ'] || row['ุงุณู ุงููุงุฑูุฉ'] || row['Brand Name'] || row['name'];
```

---

## 2. ุงููุทุงุนุงุช ูุงูููุงุทู (Sectors & Areas) ๐บ๏ธ

**ุงูููู**: `data/branches and sectors.xlsx`

**ุงููุดููุฉ**: ุงูุจูุงูุงุช ููุธูุฉ ุจุดูู ูุฎุชูู. ุงูุฃุนูุฏุฉ ุงููุนููุฉ:
- ุงูุนููุฏ ุงูุฃูู: `ูุทุงุน ุงููุงูุฑุฉ ูุงูุฌูุฒุฉ (ุงูุณูุงุญ)`
- ุจููุฉ ุงูุฃุนูุฏุฉ: `__EMPTY`, `__EMPTY_1`, ุฅูุฎ

**ุงูุดูู ุงููุนูู**: ูุจุฏู ุฃู ุงููุทุงุนุงุช ูู ุตู ุงูุนููุงูุ ูุงูููุงุทู ูู ุงูุตููู ุงูุชุงููุฉ

### ุงูุญู:
ูุฐุง ุงูููู ูุญุชุงุฌ ุฅุนุงุฏุฉ ููููุฉ **ูุฏููุฉ** ุฃู ูุชุงุจุฉ parser ูุฎุตุต. ุฎูุงุฑุงุช:

**ุงูุฎูุงุฑ 1 - ุฅุนุงุฏุฉ ุงูุชูุณูู** (ุงูุฃุณูู):
1. ุงูุชุญ `branches and sectors.xlsx` ูู Excel
2. ุฃูุดุฆ ุดูุชูู:
   - **Sheet1 - Sectors**: ุนููุฏ ูุงุญุฏ ุจุงุณู `ุงููุทุงุน`
   - **Sheet2 - Areas**: ุนููุฏูู: `ุงูููุทูุฉ` ู `ุงููุทุงุน`
3. ุงุญูุธ ุงูููู

**ุงูุฎูุงุฑ 2 - ุชุนุฏูู Parser**:
ุงูุชุญ `scripts/importers/sectors-areas.ts` ูุงูุชุจ parser ูุฎุตุต ููุฑุงุกุฉ ุงููููู ุงูุญุงูู.

---

## 3. ุงููุฑูุน (Branches) ๐ข

**ุงูููู**: `data/branches names and addresses .xlsx`

**ุงููุดููุฉ**: ุงูุจุฑูุงูุฌ ูุจุญุซ ุนู `ุงูููุทูุฉ` ููู ุงูููู ูุญุชูู ุนูู `Zone`.

**ุงูุฃุนูุฏุฉ ุงููุนููุฉ**:
- `Zone` (ุงูููุทูุฉ ุจุงูุงูุฌููุฒู)
- `Branch Name`
- `ุงุณู ุงููุฑุน `
- `ุงูุนููุงู`

### ุงูุญู:
ุงูุชุญ `scripts/importers/branches.ts`:

#### ุงูุชุนุฏูู 1 - ุงูููุทูุฉ (ุงูุณุทุฑ 78):
```typescript
// ูุจู:
const areaName = row['ุงูููุทูุฉ'] || row['Area'] || row['area'];

// ุจุนุฏ:
const areaName = row['Zone'] || row['ุงูููุทูุฉ'] || row['Area'];
```

#### ุงูุชุนุฏูู 2 - ุงุณู ุงููุฑุน (ุงูุณุทุฑ 77):
```typescript
// ูุจู:
const branchName = row['ุงุณู ุงููุฑุน'] || row['Branch Name'] || row['ุงููุฑุน'] || row['name'];

// ุจุนุฏ:
const branchName = row['ุงุณู ุงููุฑุน '] || row['Branch Name'] || row['ุงููุฑุน']; // ูุงุญุธ ุงููุณุงูุฉ ุจุนุฏ 'ุงุณู ุงููุฑุน'
```

#### ุงูุชุนุฏูู 3 - ุงููุงุฑูุฉ (ุงูุณุทุฑ 79):
```typescript
// ูุจู:
const brandName = row['ุงููุงุฑูุฉ'] || row['Brand'] || row['brand'];

// ุจุนุฏ:
// ูุง ููุฌุฏ ุนููุฏ brand ูู ุงููููุ ูุฐูู ูุฏ ุชุญุชุงุฌ ูุฅุถุงูุชู ูุฏููุงู ุฃู ุฌุนูู NULL
const brandName = row['ุงููุงุฑูุฉ'] || row['Brand'] || null;
```

---

## ูุง ุจุนุฏ ุงูุชุนุฏููุงุช

ุจุนุฏ ุชุทุจูู ุงูุชุนุฏููุงุช ุฃุนูุงู:

```bash
# ุงุฎุชุจุฑ ูุฑุฉ ุฃุฎุฑู
npm run migrate:dry-run

# ุฅุฐุง ูุฌุญุ ููุฐ ุงูุงุณุชูุฑุงุฏ ุงููุนูู
npm run migrate:yes
```

---

## ููุงุญุธุงุช ุฅุถุงููุฉ

- **ุงููุทุงุนุงุช**: ููู `branches and sectors.xlsx` ูุญุชุงุฌ ูุนุงูุฌุฉ ุฎุงุตุฉ ุจุณุจุจ ุงููููู ุบูุฑ ุงูุชูููุฏู
- **ุงููุงุฑูุงุช**: ุฅุฐุง ูู ููู ููุงู ุนููุฏ ูููุงุฑูุฉ ูู ููู ุงููุฑูุนุ ููููู ุฌุนูู ุงุฎุชูุงุฑู
- **ุงูููุงุทู**: ูุฌุจ ุงูุชุฃูุฏ ูู ุชุทุงุจู ุฃุณูุงุก ุงูููุงุทู ุจูู ููู ุงููุทุงุนุงุช ูููู ุงููุฑูุน

---

## ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุนุฏูู ูููุงุช ุงูุงุณุชูุฑุงุฏ** ุญุณุจ ุงูุชุนูููุงุช ุฃุนูุงู
2. **ุฃู ุนุฏูู ูููุงุช Excel** ูุชุทุงุจู ุงูุฃุณูุงุก ุงููุชููุนุฉ
3. **ุงุฎุชุจุฑ ูุฑุฉ ุฃุฎุฑู**: `npm run migrate:dry-run`
4. **ููุฐ ุงูุงุณุชูุฑุงุฏ**: `npm run migrate:yes`
